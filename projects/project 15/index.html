<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Бронирование билетов</title>
    
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        :root {
            --primary: #2c3e50;
            --secondary: #34495e;
            --accent: #3498db;
            --accent-dark: #2980b9;
            --success: #27ae60;
            --success-light: #d5f4e6;
            --warning: #f39c12;
            --warning-light: #fef5e7;
            --error: #e74c3c;
            --error-light: #fdeaea;
            --info: #7f8c8d;
            --info-light: #f4f6f6;
            
            --border: #dfe6e9;
            --border-dark: #bdc3c7;
            --text-primary: #2c3e50;
            --text-secondary: #546e7a;
            --text-light: #95a5a6;
            --bg-primary: #ffffff;
            --bg-secondary: #f8f9fa;
            --bg-tertiary: #f1f3f4;
            
            --seat-vip: #16a085;
            --seat-premium: #3498db;
            --seat-standard: #95a5a6;
            --seat-selected: #2c3e50;
            --seat-unavailable: #e0e0e0;
            
            --shadow-sm: 0 1px 3px rgba(0,0,0,0.08);
            --shadow: 0 2px 6px rgba(0,0,0,0.1);
            --shadow-md: 0 4px 12px rgba(0,0,0,0.1);
            --radius: 4px;
            --radius-md: 6px;
            --radius-lg: 8px;
            
            --spacing-xs: 8px;
            --spacing-sm: 12px;
            --spacing: 16px;
            --spacing-md: 20px;
            --spacing-lg: 24px;
            --spacing-xl: 32px;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            color: var(--text-primary);
            line-height: 1.5;
            font-size: 14px;
            min-height: 100vh;
        }
        
        .app-container {
            max-width: 1400px;
            margin: 0 auto;
            padding: var(--spacing-xl);
        }
        
        .header {
            background: var(--bg-primary);
            border-radius: var(--radius-lg);
            padding: var(--spacing-lg);
            margin-bottom: var(--spacing-xl);
            box-shadow: var(--shadow);
            border: 1px solid var(--border);
        }
        
        .header-main {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: var(--spacing);
            padding-bottom: var(--spacing);
            border-bottom: 1px solid var(--border);
        }
        
        .header-title {
            display: flex;
            align-items: center;
            gap: var(--spacing);
        }
        
        .header-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%);
            border-radius: var(--radius);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: 500;
            font-size: 18px;
        }
        
        .header h1 {
            font-size: 24px;
            font-weight: 500;
            color: var(--text-primary);
            letter-spacing: -0.3px;
        }
        
        .header-subtitle {
            font-size: 14px;
            color: var(--text-secondary);
            margin-top: 2px;
        }
        
        .header-info {
            text-align: right;
            font-size: 13px;
            color: var(--text-secondary);
        }
        
        .header-info-item {
            margin-bottom: 4px;
            display: flex;
            align-items: center;
            justify-content: flex-end;
            gap: 6px;
        }
        
        .header-info-dot {
            width: 6px;
            height: 6px;
            background: var(--accent);
            border-radius: 50%;
        }
        
        .header-footer {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-top: var(--spacing);
            padding-top: var(--spacing);
            border-top: 1px solid var(--border);
        }
        
        .badge {
            display: inline-flex;
            align-items: center;
            padding: 4px 10px;
            font-size: 12px;
            font-weight: 500;
            border-radius: var(--radius);
            text-transform: uppercase;
            letter-spacing: 0.3px;
        }
        
        .badge-venue {
            background: var(--bg-tertiary);
            color: var(--text-secondary);
            border: 1px solid var(--border);
        }
        
        .badge-hall {
            background: var(--info-light);
            color: var(--info);
            border: 1px solid var(--border);
        }
        
        .badge-capacity {
            background: var(--success-light);
            color: var(--success);
            border: 1px solid rgba(39, 174, 96, 0.2);
        }
        
        .badge-time {
            background: linear-gradient(135deg, var(--accent) 0%, var(--accent-dark) 100%);
            color: white;
        }
        
        .loading {
            display: flex;
            align-items: center;
            justify-content: center;
            padding: var(--spacing-xl);
            color: var(--text-secondary);
            font-size: 14px;
            background: var(--bg-primary);
            border-radius: var(--radius-lg);
            border: 1px solid var(--border);
        }
        
        .loading::after {
            content: '';
            width: 14px;
            height: 14px;
            margin-left: 10px;
            border: 2px solid var(--border);
            border-top-color: var(--accent);
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        @media (max-width: 768px) {
            .app-container {
                padding: var(--spacing);
            }
            
            .header-main {
                flex-direction: column;
                align-items: flex-start;
                gap: var(--spacing);
            }
            
            .header-info {
                text-align: left;
                align-self: stretch;
            }
            
            .header-footer {
                flex-direction: column;
                align-items: flex-start;
                gap: var(--spacing-sm);
            }
        }
    </style>
</head>
<body>
    <div class="app-container">
        <div class="header">
            <div class="header-main">
                <div class="header-title">
                    <div class="header-icon">Б</div>
                    <div>
                        <h1>Бронирование билетов</h1>
                        <div class="header-subtitle">Онлайн-система выбора и бронирования мест</div>
                    </div>
                </div>
                <div class="header-info">
                    <div class="header-info-item">
                        <div class="header-info-dot"></div>
                        <span>Сеанс №4572-2023</span>
                    </div>
                    <div class="header-info-item">
                        <div class="header-info-dot"></div>
                        <span>Версия системы: 2.1.0</span>
                    </div>
                    <div class="header-info-item">
                        <div class="header-info-dot"></div>
                        <span>15 декабря 2023, 14:30</span>
                    </div>
                </div>
            </div>
            
            <div class="header-footer">
                <div style="display: flex; gap: var(--spacing-sm);">
                    <span class="badge badge-venue">Московский международный дом музыки</span>
                    <span class="badge badge-hall">Концертный зал №3</span>
                    <span class="badge badge-capacity">Вместимость: 800 мест</span>
                </div>
                <span class="badge badge-time">Начало в 19:00</span>
            </div>
        </div>
        
        
        <div id="root"></div>
    </div>

   
    <script type="text/babel">
       
        function ConcertApp() {
            const [seats, setSeats] = React.useState([]);
            const [selectedSeats, setSelectedSeats] = React.useState([]);
            const [message, setMessage] = React.useState('');
            const [loading, setLoading] = React.useState(true);
            const [concert] = React.useState({
                title: "Симфонический оркестр Москвы",
                date: "15 декабря 2023, 19:00",
                venue: "Московский международный дом музыки",
                description: "Вечер классической музыки с участием симфонического оркестра. В программе произведения Чайковского, Рахманинова и Шостаковича.",
                duration: "2 часа 15 минут с антрактом",
                artist: "Главный дирижёр: Михаил Петров"
            });
            
            
            React.useEffect(() => {
                setTimeout(() => {
                    const initialSeats = [];
                    const rows = 8;
                    const seatsPerRow = 12;
                    
                    for (let row = 1; row <= rows; row++) {
                        for (let num = 1; num <= seatsPerRow; num++) {
                            const rowLetter = String.fromCharCode(64 + row);
                            initialSeats.push({
                                id: `${rowLetter}${num}`,
                                row: row,
                                number: num,
                                price: row <= 2 ? 8500 : row <= 4 ? 6500 : 4500,
                                type: row <= 2 ? 'vip' : row <= 4 ? 'premium' : 'standard',
                                available: Math.random() > 0.25,
                                features: row <= 2 ? ['VIP зона', 'Отдельный вход'] : 
                                         row <= 4 ? ['Комфортные кресла'] : ['Стандартные места']
                            });
                        }
                    }
                    
                    setSeats(initialSeats);
                    setLoading(false);
                }, 800);
            }, []);
            
           
            const handleSeatClick = (seat) => {
                if (!seat.available) {
                    setMessage({
                        type: 'error',
                        text: `Место ${seat.id} недоступно для бронирования. Выберите другое место.`,
                        title: 'Место занято'
                    });
                    return;
                }
                
                const isSelected = selectedSeats.some(s => s.id === seat.id);
                
                if (isSelected) {
                    setSelectedSeats(prev => prev.filter(s => s.id !== seat.id));
                    setMessage({
                        type: 'info',
                        text: `Место ${seat.id} удалено из заказа`,
                        title: 'Удалено'
                    });
                } else {
                    if (selectedSeats.length < 6) {
                        setSelectedSeats(prev => [...prev, seat]);
                        setMessage({
                            type: 'success',
                            text: `Место ${seat.id} добавлено в заказ`,
                            title: 'Добавлено'
                        });
                    } else {
                        setMessage({
                            type: 'warning',
                            text: 'Максимальное количество мест в одном заказе - 6',
                            title: 'Лимит превышен'
                        });
                    }
                }
            };
            
           
            const handleBooking = () => {
                if (selectedSeats.length === 0) {
                    setMessage({
                        type: 'error',
                        text: 'Для бронирования необходимо выбрать хотя бы одно место',
                        title: 'Нет выбранных мест'
                    });
                    return;
                }
                
                const total = selectedSeats.reduce((sum, seat) => sum + seat.price, 0);
                const serviceFee = 350;
                const orderNumber = Math.floor(100000 + Math.random() * 900000);
                
                setMessage({
                    type: 'success',
                    text: `✅ Бронирование №${orderNumber} подтверждено\n\n` +
                          `• Выбрано мест: ${selectedSeats.length}\n` +
                          `• Стоимость мест: ${total.toLocaleString('ru-RU')} руб.\n` +
                          `• Сервисный сбор: ${serviceFee} руб.\n` +
                          `• Итого к оплате: ${(total + serviceFee).toLocaleString('ru-RU')} руб.\n\n` +
                          `Подтверждение и билеты отправлены на указанный email.`,
                    title: 'Бронирование подтверждено'
                });
                
                setTimeout(() => {
                    setSelectedSeats([]);
                    setMessage({
                        type: 'info',
                        text: 'Заказ завершён. Готовы к новому бронированию.',
                        title: 'Готово'
                    });
                }, 6000);
            };
            
           
            const handleClearSelection = () => {
                setSelectedSeats([]);
                setMessage({
                    type: 'info',
                    text: 'Все выбранные места удалены из заказа',
                    title: 'Заказ очищен'
                });
            };
            
         
            const styles = {
                
                container: {
                    display: 'flex',
                    flexDirection: 'column',
                    gap: 'var(--spacing-lg)'
                },
                grid: {
                    display: 'grid',
                    gridTemplateColumns: '1fr 380px',
                    gap: 'var(--spacing-xl)'
                },
                
               
                concertInfo: {
                    background: 'var(--bg-primary)',
                    borderRadius: 'var(--radius-lg)',
                    padding: 'var(--spacing-lg)',
                    border: '1px solid var(--border)',
                    boxShadow: 'var(--shadow-sm)'
                },
                statsGrid: {
                    display: 'grid',
                    gridTemplateColumns: 'repeat(4, 1fr)',
                    gap: 'var(--spacing)',
                    marginTop: 'var(--spacing)'
                },
                statItem: {
                    padding: 'var(--spacing)',
                    background: 'var(--bg-secondary)',
                    borderRadius: 'var(--radius)',
                    border: '1px solid var(--border)'
                },
                
                
                stage: {
                    background: 'linear-gradient(135deg, var(--primary) 0%, var(--secondary) 100%)',
                    color: 'white',
                    textAlign: 'center',
                    padding: 'var(--spacing)',
                    borderRadius: 'var(--radius-md)',
                    fontWeight: '500',
                    fontSize: '13px',
                    letterSpacing: '0.5px',
                    textTransform: 'uppercase',
                    marginBottom: 'var(--spacing-lg)',
                    border: '1px solid var(--border-dark)',
                    position: 'relative',
                    overflow: 'hidden'
                },
                stageOverlay: {
                    position: 'absolute',
                    top: 0,
                    left: 0,
                    right: 0,
                    bottom: 0,
                    background: 'linear-gradient(90deg, transparent 0%, rgba(255,255,255,0.1) 50%, transparent 100%)'
                },
                seatsContainer: {
                    position: 'relative',
                    padding: 'var(--spacing-lg)',
                    background: 'var(--bg-primary)',
                    borderRadius: 'var(--radius-lg)',
                    border: '1px solid var(--border)',
                    boxShadow: 'var(--shadow-sm)'
                },
                seatsGrid: {
                    display: 'grid',
                    gridTemplateColumns: 'repeat(12, 1fr)',
                    gap: '6px',
                    justifyContent: 'center'
                },
                seat: {
                    width: '36px',
                    height: '36px',
                    borderRadius: 'var(--radius)',
                    border: '2px solid',
                    fontSize: '12px',
                    fontWeight: '500',
                    cursor: 'pointer',
                    transition: 'all 0.15s ease',
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'center',
                    position: 'relative'
                },
                rowLabel: {
                    position: 'absolute',
                    left: '-28px',
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'center',
                    width: '22px',
                    height: '22px',
                    fontSize: '11px',
                    fontWeight: '600',
                    color: 'var(--text-primary)',
                    background: 'var(--bg-tertiary)',
                    borderRadius: '3px',
                    border: '1px solid var(--border)'
                },
                
                
                cart: {
                    background: 'var(--bg-primary)',
                    borderRadius: 'var(--radius-lg)',
                    border: '1px solid var(--border)',
                    padding: 'var(--spacing-lg)',
                    height: 'fit-content',
                    position: 'sticky',
                    top: 'var(--spacing)',
                    boxShadow: 'var(--shadow)'
                },
                cartItem: {
                    display: 'flex',
                    justifyContent: 'space-between',
                    alignItems: 'center',
                    padding: 'var(--spacing-sm) var(--spacing)',
                    background: 'var(--bg-secondary)',
                    borderRadius: 'var(--radius)',
                    marginBottom: '6px',
                    fontSize: '13px',
                    border: '1px solid var(--border)',
                    transition: 'all 0.15s ease'
                },
                cartEmpty: {
                    textAlign: 'center',
                    padding: 'var(--spacing-xl)',
                    color: 'var(--text-light)',
                    fontSize: '14px'
                },
                
                
                button: {
                    background: 'linear-gradient(135deg, var(--accent) 0%, var(--accent-dark) 100%)',
                    color: 'white',
                    border: 'none',
                    padding: 'var(--spacing) var(--spacing-lg)',
                    fontSize: '14px',
                    fontWeight: '500',
                    borderRadius: 'var(--radius-md)',
                    cursor: 'pointer',
                    transition: 'all 0.15s ease',
                    width: '100%',
                    display: 'flex',
                    alignItems: 'center',
                    justifyContent: 'center',
                    gap: '8px',
                    boxShadow: 'var(--shadow-sm)'
                },
                buttonSecondary: {
                    background: 'transparent',
                    color: 'var(--text-secondary)',
                    border: '1px solid var(--border-dark)',
                    padding: 'var(--spacing) var(--spacing-lg)',
                    fontSize: '14px',
                    fontWeight: '500',
                    borderRadius: 'var(--radius-md)',
                    cursor: 'pointer',
                    transition: 'all 0.15s ease',
                    flex: 1
                },
                buttonGroup: {
                    display: 'flex',
                    gap: 'var(--spacing)',
                    marginTop: 'var(--spacing)'
                },
                
              
                message: {
                    padding: 'var(--spacing)',
                    borderRadius: 'var(--radius-md)',
                    marginTop: 'var(--spacing)',
                    fontSize: '13px',
                    lineHeight: '1.5',
                    whiteSpace: 'pre-line',
                    borderLeft: '3px solid'
                },
                messageSuccess: {
                    background: 'var(--success-light)',
                    color: 'var(--success)',
                    borderColor: 'var(--success)'
                },
                messageError: {
                    background: 'var(--error-light)',
                    color: 'var(--error)',
                    borderColor: 'var(--error)'
                },
                messageWarning: {
                    background: 'var(--warning-light)',
                    color: 'var(--warning)',
                    borderColor: 'var(--warning)'
                },
                messageInfo: {
                    background: 'var(--info-light)',
                    color: 'var(--info)',
                    borderColor: 'var(--info)'
                },
                
               
                legend: {
                    display: 'flex',
                    gap: 'var(--spacing)',
                    justifyContent: 'center',
                    marginTop: 'var(--spacing-lg)',
                    flexWrap: 'wrap',
                    padding: 'var(--spacing)',
                    background: 'var(--bg-secondary)',
                    borderRadius: 'var(--radius-md)',
                    border: '1px solid var(--border)'
                },
                legendItem: {
                    display: 'flex',
                    alignItems: 'center',
                    gap: '8px',
                    fontSize: '12px',
                    color: 'var(--text-secondary)',
                    padding: '4px 8px',
                    background: 'var(--bg-primary)',
                    borderRadius: 'var(--radius)',
                    border: '1px solid var(--border)'
                },
                
               
                divider: {
                    height: '1px',
                    background: 'var(--border)',
                    margin: 'var(--spacing) 0'
                },
                dividerBold: {
                    height: '2px',
                    background: 'var(--border-dark)',
                    margin: 'var(--spacing) 0'
                }
            };
            
            if (loading) {
                return (
                    <div style={styles.concertInfo}>
                        <div class="loading">
                            Загрузка схемы зала...
                        </div>
                    </div>
                );
            }
            
            return (
                <div style={styles.container}>
                    {/* Информация о концерте */}
                    <div style={styles.concertInfo}>
                        <div style={{
                            display: 'flex',
                            justifyContent: 'space-between',
                            alignItems: 'flex-start',
                            marginBottom: 'var(--spacing)'
                        }}>
                            <div style={{flex: 1}}>
                                <div style={{fontSize: '18px', fontWeight: '500', color: 'var(--primary)', marginBottom: '4px'}}>
                                    {concert.title}
                                </div>
                                <div style={{fontSize: '14px', color: 'var(--text-secondary)', marginBottom: 'var(--spacing-sm)'}}>
                                    {concert.artist}
                                </div>
                                <div style={{fontSize: '13px', color: 'var(--text-secondary)', lineHeight: '1.5'}}>
                                    {concert.description}
                                </div>
                            </div>
                            <div style={{
                                padding: 'var(--spacing-sm) var(--spacing)',
                                background: 'var(--bg-tertiary)',
                                borderRadius: 'var(--radius)',
                                border: '1px solid var(--border)',
                                fontSize: '13px',
                                color: 'var(--text-secondary)',
                                whiteSpace: 'nowrap',
                                marginLeft: 'var(--spacing)'
                            }}>
                                {concert.duration}
                            </div>
                        </div>
                        
                        <div style={styles.divider}></div>
                        
                        <div style={styles.statsGrid}>
                            <div style={styles.statItem}>
                                <div style={{fontSize: '11px', color: 'var(--text-light)', marginBottom: '6px', textTransform: 'uppercase', letterSpacing: '0.5px'}}>Дата</div>
                                <div style={{fontSize: '15px', color: 'var(--text-primary)', fontWeight: '500'}}>15.12.2023</div>
                            </div>
                            <div style={styles.statItem}>
                                <div style={{fontSize: '11px', color: 'var(--text-light)', marginBottom: '6px', textTransform: 'uppercase', letterSpacing: '0.5px'}}>Время</div>
                                <div style={{fontSize: '15px', color: 'var(--text-primary)', fontWeight: '500'}}>19:00</div>
                            </div>
                            <div style={styles.statItem}>
                                <div style={{fontSize: '11px', color: 'var(--text-light)', marginBottom: '6px', textTransform: 'uppercase', letterSpacing: '0.5px'}}>Зал</div>
                                <div style={{fontSize: '15px', color: 'var(--text-primary)', fontWeight: '500'}}>№3</div>
                            </div>
                            <div style={styles.statItem}>
                                <div style={{fontSize: '11px', color: 'var(--text-light)', marginBottom: '6px', textTransform: 'uppercase', letterSpacing: '0.5px'}}>Выбрано</div>
                                <div style={{fontSize: '15px', color: selectedSeats.length > 0 ? 'var(--accent)' : 'var(--text-primary)', fontWeight: '500'}}>
                                    {selectedSeats.length} / 6 мест
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    {/* Основной контент */}
                    <div style={styles.grid}>
                        {/* Левая колонка - карта мест */}
                        <div>
                            <div style={styles.stage}>
                                <div style={styles.stageOverlay}></div>
                                Главная сцена
                            </div>
                            
                            <div style={styles.seatsContainer}>
                                {/* Карта мест */}
                                {[...Array(8)].map((_, rowIndex) => {
                                    const rowLetter = String.fromCharCode(65 + rowIndex);
                                    return (
                                        <div key={rowIndex} style={{position: 'relative', marginBottom: '10px', display: 'flex', alignItems: 'center'}}>
                                            <div style={styles.rowLabel}>
                                                {rowLetter}
                                            </div>
                                            <div style={styles.seatsGrid}>
                                                {seats
                                                    .filter(seat => seat.row === rowIndex + 1)
                                                    .map(seat => {
                                                        const isSelected = selectedSeats.some(s => s.id === seat.id);
                                                        let seatStyle = {
                                                            ...styles.seat,
                                                            background: isSelected ? 'var(--seat-selected)' : 
                                                                      seat.type === 'vip' ? 'var(--seat-vip)' :
                                                                      seat.type === 'premium' ? 'var(--seat-premium)' : 'var(--bg-primary)',
                                                            color: isSelected ? 'white' : 
                                                                   seat.type === 'vip' ? 'white' :
                                                                   seat.type === 'premium' ? 'white' : 'var(--text-primary)',
                                                            borderColor: isSelected ? 'var(--seat-selected)' : 
                                                                        seat.type === 'vip' ? 'var(--seat-vip)' :
                                                                        seat.type === 'premium' ? 'var(--seat-premium)' : 'var(--seat-standard)'
                                                        };
                                                        
                                                        if (!seat.available) {
                                                            seatStyle = {
                                                                ...seatStyle,
                                                                background: 'var(--seat-unavailable)',
                                                                color: 'var(--text-light)',
                                                                borderColor: 'var(--border)',
                                                                cursor: 'default'
                                                            };
                                                        }
                                                        
                                                        return (
                                                            <button
                                                                key={seat.id}
                                                                style={seatStyle}
                                                                onMouseEnter={(e) => {
                                                                    if (seat.available && !isSelected) {
                                                                        e.currentTarget.style.transform = 'translateY(-1px)';
                                                                        e.currentTarget.style.boxShadow = 'var(--shadow-sm)';
                                                                    }
                                                                }}
                                                                onMouseLeave={(e) => {
                                                                    if (seat.available && !isSelected) {
                                                                        e.currentTarget.style.transform = 'translateY(0)';
                                                                        e.currentTarget.style.boxShadow = 'none';
                                                                    }
                                                                }}
                                                                onClick={() => handleSeatClick(seat)}
                                                                disabled={!seat.available}
                                                                title={`Ряд ${rowLetter}, место ${seat.number}\nКатегория: ${seat.type === 'vip' ? 'VIP' : seat.type === 'premium' ? 'Премиум' : 'Стандарт'}\nЦена: ${seat.price.toLocaleString('ru-RU')} руб.\n${seat.features.join(', ')}`}
                                                            >
                                                                {seat.number}
                                                            </button>
                                                        );
                                                    })}
                                            </div>
                                        </div>
                                    );
                                })}
                                
                                {/* Легенда */}
                                <div style={styles.dividerBold}></div>
                                <div style={styles.legend}>
                                    <div style={styles.legendItem}>
                                        <div style={{
                                            width: '14px',
                                            height: '14px',
                                            background: 'var(--seat-vip)',
                                            borderRadius: '2px'
                                        }}></div>
                                        <span>VIP (8 500 руб.)</span>
                                    </div>
                                    <div style={styles.legendItem}>
                                        <div style={{
                                            width: '14px',
                                            height: '14px',
                                            background: 'var(--seat-premium)',
                                            borderRadius: '2px'
                                        }}></div>
                                        <span>Премиум (6 500 руб.)</span>
                                    </div>
                                    <div style={styles.legendItem}>
                                        <div style={{
                                            width: '14px',
                                            height: '14px',
                                            background: 'var(--bg-primary)',
                                            border: '2px solid var(--seat-standard)',
                                            borderRadius: '2px'
                                        }}></div>
                                        <span>Стандарт (4 500 руб.)</span>
                                    </div>
                                    <div style={styles.legendItem}>
                                        <div style={{
                                            width: '14px',
                                            height: '14px',
                                            background: 'var(--seat-selected)',
                                            borderRadius: '2px'
                                        }}></div>
                                        <span>Выбрано</span>
                                    </div>
                                    <div style={styles.legendItem}>
                                        <div style={{
                                            width: '14px',
                                            height: '14px',
                                            background: 'var(--seat-unavailable)',
                                            border: '1px solid var(--border)',
                                            borderRadius: '2px'
                                        }}></div>
                                        <span>Занято</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        {/* Правая колонка - корзина */}
                        <div style={styles.cart}>
                            <div style={{
                                display: 'flex',
                                justifyContent: 'space-between',
                                alignItems: 'center',
                                marginBottom: 'var(--spacing)',
                                paddingBottom: 'var(--spacing-sm)',
                                borderBottom: '1px solid var(--border)'
                            }}>
                                <div style={{fontSize: '18px', fontWeight: '500', color: 'var(--primary)'}}>
                                    Ваш заказ
                                </div>
                                {selectedSeats.length > 0 && (
                                    <div style={{
                                        padding: '4px 10px',
                                        background: 'var(--accent)',
                                        color: 'white',
                                        borderRadius: 'var(--radius)',
                                        fontSize: '12px',
                                        fontWeight: '500'
                                    }}>
                                        {selectedSeats.length} мест
                                    </div>
                                )}
                            </div>
                            
                            {selectedSeats.length === 0 ? (
                                <div style={styles.cartEmpty}>
                                    <div style={{marginBottom: 'var(--spacing-sm)', color: 'var(--text-secondary)'}}>
                                        Выберите места на схеме
                                    </div>
                                    <div style={{color: 'var(--text-light)', fontSize: '13px'}}>
                                        Нажмите на доступные места для добавления в заказ
                                    </div>
                                </div>
                            ) : (
                                <>
                                    <div style={{marginBottom: 'var(--spacing)'}}>
                                        {selectedSeats.map(seat => (
                                            <div key={seat.id} style={styles.cartItem}
                                                 onMouseEnter={(e) => e.currentTarget.style.background = 'var(--bg-tertiary)'}
                                                 onMouseLeave={(e) => e.currentTarget.style.background = 'var(--bg-secondary)'}>
                                                <div>
                                                    <div style={{fontWeight: '500', color: 'var(--text-primary)'}}>
                                                        Место {seat.id}
                                                    </div>
                                                    <div style={{
                                                        fontSize: '12px',
                                                        color: seat.type === 'vip' ? 'var(--seat-vip)' : 
                                                              seat.type === 'premium' ? 'var(--seat-premium)' : 'var(--seat-standard)',
                                                        marginTop: '2px'
                                                    }}>
                                                        {seat.type === 'vip' ? 'VIP зона' : seat.type === 'premium' ? 'Премиум' : 'Стандарт'}
                                                    </div>
                                                </div>
                                                <div style={{fontWeight: '600', color: 'var(--text-primary)', fontSize: '15px'}}>
                                                    {seat.price.toLocaleString('ru-RU')} руб.
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                    
                                    <div style={styles.divider}></div>
                                    
                                    <div style={{
                                        padding: 'var(--spacing)',
                                        background: 'var(--bg-tertiary)',
                                        borderRadius: 'var(--radius-md)',
                                        marginBottom: 'var(--spacing)',
                                        border: '1px solid var(--border)'
                                    }}>
                                        <div style={{
                                            display: 'flex',
                                            justifyContent: 'space-between',
                                            alignItems: 'center',
                                            marginBottom: '8px'
                                        }}>
                                            <span style={{color: 'var(--text-secondary)', fontSize: '13px'}}>Стоимость мест:</span>
                                            <span style={{fontWeight: '500'}}>
                                                {selectedSeats.reduce((sum, seat) => sum + seat.price, 0).toLocaleString('ru-RU')} руб.
                                            </span>
                                        </div>
                                        <div style={{
                                            display: 'flex',
                                            justifyContent: 'space-between',
                                            alignItems: 'center',
                                            marginBottom: '8px'
                                        }}>
                                            <span style={{color: 'var(--text-secondary)', fontSize: '13px'}}>Сервисный сбор:</span>
                                            <span style={{fontWeight: '500'}}>350 руб.</span>
                                        </div>
                                        <div style={styles.divider}></div>
                                        <div style={{
                                            display: 'flex',
                                            justifyContent: 'space-between',
                                            alignItems: 'center',
                                            fontSize: '16px',
                                            fontWeight: '600',
                                            color: 'var(--primary)'
                                        }}>
                                            <span>Итого к оплате:</span>
                                            <span>
                                                {(selectedSeats.reduce((sum, seat) => sum + seat.price, 0) + 350).toLocaleString('ru-RU')} руб.
                                            </span>
                                        </div>
                                    </div>
                                </>
                            )}
                            
                            <div style={styles.buttonGroup}>
                                {selectedSeats.length > 0 && (
                                    <button
                                        style={{
                                            ...styles.buttonSecondary,
                                            borderColor: 'var(--border-dark)',
                                            color: 'var(--text-secondary)'
                                        }}
                                        onMouseEnter={(e) => e.currentTarget.style.borderColor = 'var(--error)'}
                                        onMouseLeave={(e) => e.currentTarget.style.borderColor = 'var(--border-dark)'}
                                        onClick={handleClearSelection}
                                    >
                                        Очистить
                                    </button>
                                )}
                                <button
                                    style={{
                                        ...styles.button,
                                        opacity: selectedSeats.length === 0 ? 0.5 : 1,
                                        cursor: selectedSeats.length === 0 ? 'default' : 'pointer',
                                        flex: selectedSeats.length > 0 ? 2 : 1
                                    }}
                                    onMouseEnter={(e) => {
                                        if (selectedSeats.length > 0) {
                                            e.currentTarget.style.transform = 'translateY(-1px)';
                                            e.currentTarget.style.boxShadow = 'var(--shadow)';
                                        }
                                    }}
                                    onMouseLeave={(e) => {
                                        if (selectedSeats.length > 0) {
                                            e.currentTarget.style.transform = 'translateY(0)';
                                            e.currentTarget.style.boxShadow = 'var(--shadow-sm)';
                                        }
                                    }}
                                    onClick={handleBooking}
                                    disabled={selectedSeats.length === 0}
                                >
                                    {selectedSeats.length === 0 ? 'Выбрать места' : 'Подтвердить бронирование'}
                                </button>
                            </div>
                            
                            {/* Сообщения */}
                            {message && (
                                <div style={{
                                    ...styles.message,
                                    ...(message.type === 'success' ? styles.messageSuccess :
                                        message.type === 'error' ? styles.messageError :
                                        message.type === 'warning' ? styles.messageWarning :
                                        styles.messageInfo)
                                }}>
                                    <div style={{fontWeight: '600', marginBottom: '6px', fontSize: '14px'}}>{message.title}</div>
                                    {message.text}
                                </div>
                            )}
                            
                            {/* Информация */}
                            <div style={{
                                marginTop: 'var(--spacing-lg)',
                                paddingTop: 'var(--spacing)',
                                borderTop: '1px solid var(--border)',
                                fontSize: '12px',
                                color: 'var(--text-light)'
                            }}>
                                <div style={{display: 'flex', alignItems: 'center', gap: '6px', marginBottom: '8px'}}>
                                    <div style={{width: '4px', height: '4px', background: 'var(--success)', borderRadius: '50%'}}></div>
                                    <span>Гарантированный возврат средств</span>
                                </div>
                                <div style={{display: 'flex', alignItems: 'center', gap: '6px', marginBottom: '8px'}}>
                                    <div style={{width: '4px', height: '4px', background: 'var(--accent)', borderRadius: '50%'}}></div>
                                    <span>Безопасная оплата по протоколу SSL</span>
                                </div>
                                <p style={{marginBottom: '4px'}}>• Возврат билетов возможен за 72 часа до мероприятия</p>
                                <p style={{marginBottom: '4px'}}>• Максимальное количество мест в одном заказе: 6</p>
                                <p>• Электронные билеты отправляются в течение 10 минут</p>
                            </div>
                        </div>
                    </div>
                </div>
            );
        }
        
        
        ReactDOM.render(<ConcertApp />, document.getElementById('root'));
    </script>
</body>
</html>